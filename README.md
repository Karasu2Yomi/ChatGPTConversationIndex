# ChatGPT Conversation Index（v0.1.3）使用説明

## 0. これは何？

ChatGPT の**1つの会話ページ内**で、質問/回答（ターン）を一覧化して、クリックでその位置へ**高速ジャンプ**できる拡張です。

* 対象：ChatGPT の会話ページ（例：`/c/...` や `/share/...`）
* 機能：目次（Index）表示、フィルタ検索、ジャンプ、折りたたみ、ドラッグ移動、ページ内設定

---

## 1. インストール（更新含む）

1. Chromeで `chrome://extensions` を開く
2. 右上の **Developer mode（デベロッパーモード）** をON
3. **Load unpacked（パッケージ化されていない拡張機能を読み込む）**
4. 解凍したフォルダ内の `ChatgptConversationIndex/src` を選択
5. ChatGPT の会話ページを開き、**Ctrl+R**で更新

> 旧版がある場合：旧版を無効化/削除してから v0.1.3 を読み込み直すのが安全です。

---

## 2. 画面の見方（ボタン説明）

会話ページ右上に小さなパネルが出ます。

* **≡（ドラッグ）**：パネルをドラッグして移動

  * **ダブルクリック**：位置を右上（デフォルト）に戻す
* **↻（再生成）**：目次を手動で更新
* **⚙（設定）**：パネル内設定を開く（別タブは開きません）
* **⟷（折りたたみ/展開）**：最小化/戻す

---

## 3. 基本操作

### 3.1 目次からジャンプ

1. 目次の項目（例：`12. ～～…`）をクリック
2. 対応する発言へスクロールして移動
3. 移動先は一瞬ハイライト表示されます

### 3.2 フィルタ検索

パネル上部の `filter...` に文字を入れると、部分一致で絞り込みます。

---

## 4. 折りたたみ動作（重要）

* **折りたたみ中は自動更新しません**（軽量化＆あなたの要件）
* **展開した瞬間に1回だけ更新**します
* 折りたたみ中は、表示も最小（ボタン2つ程度）になります

---

## 5. 自動更新の仕様

* 自動更新は「**回答が完了した瞬間**」だけ実行します
* 回答生成中（ストリーミング中）は更新しません
* 重く感じる場合は、⚙から自動更新をOFFにして、必要時だけ ↻ を押すのが最も安全です

---

## 6. パネル内設定（⚙）

⚙を押すと、パネル内に設定欄が出ます。

設定できる項目：

* **表示文字数**：リストに表示する先頭文字数（例：20）
* **ツールチップ文字数**：マウスを乗せた時に出る最大文字数（例：80）
* **タイトル表示**：リストに「先頭テキスト」を表示する/しない
* **自動更新（完了時）**：回答完了後のみ自動更新する/しない

ボタン：

* **適用**：設定を保存して反映
* **位置リセット**：パネル位置を右上に戻す

---

## 7. よくある問題と対処

### 7.1 パネルが出ない

* いま見ているURLが「会話ページ」か確認（`/c/` または `/share/`）
* 拡張をONにして、会話ページで **Ctrl+R**
* それでもダメなら、拡張の詳細→「サイトへのアクセス」系の設定を確認

### 7.2 目次に古い発言が出てこない

ChatGPTは過去ログを「スクロールで後からDOMに載せる」ことがあります。
→ **上にスクロールして過去ログを表示させてから ↻ を押す**

### 7.3 重い/カクつく

* ⚙で **自動更新（完了時）をOFF**
* 折りたたみ（⟷）して使わない時は最小化

### 7.4 「Optionsがブロックされる」画面が出る

v0.1.3 は **別タブのOptionsを開かない設計**です。
もしまだ出るなら、旧版が残っている可能性が高いので、旧版を削除/無効化して再読み込みしてください。

---

## 8. 使い方のおすすめ運用

* 普段：**折りたたみ**しておく（軽い）
* 探したい時：**展開**→自動で1回更新→フィルタ検索→クリックジャンプ
* 目次がズレた時：**↻**で手動更新

